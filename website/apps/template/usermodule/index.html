{% extends 'usermodule/layout/base.html' %}

{% block title %}مولد المخطوطات العربية{% endblock %}

{% block content %}
    <h1>مولد المخطوطات العربية</h1>
    <p>أدخل النص الذي تريد رؤيته كمخطوطة</p>

    <form id="myForm" action="{% url 'generate_text' %}" method="POST">
        {% csrf_token %}
        
        <!-- Input container -->
        <div class="input-container" id="inputContainer">
            <input 
                type="text" 
                id="user_input" 
                name="user_input" 
                required 
                placeholder="اكتب النص..."
            >
            <i 
                class="fas fa-random" 
                onclick="generateRandomText()" 
                style="cursor: pointer;"
            ></i>
        </div>

        <!-- 
          Button & error share the same container.
          We give this container a fixed height (or min-height) so
          that toggling between button & error doesn’t shift layout.
        -->
        <div id="button-or-error" style="margin-top: 20px; min-height: 50px;">
            <!-- Submit button with spinner -->
            <button type="submit" class="btn" id="submit-btn">
                <span class="btn-text">إنشاء مخطوطة</span>
                <span class="spinner" id="spinner"></span>
            </button>
            
            <!-- Error message, hidden by default -->
            <span 
                id="error-msg" 
                class="error-message" 
                style="display: none;"
            ></span>
        </div>
    </form>
{% endblock %}
